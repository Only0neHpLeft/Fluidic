# Design: Fluidic v0.0.2 — Full Gamification

Target: Unique custom badges, XP/leveling, streak freeze, daily challenges. EN + CS.

## 1. Custom Badge Visuals (26 badges)

Each badge: circle base with unique fill color + white SF Symbol or text overlay.
Locked state: gray circle (#E0E0E0) + white lock icon + "???" label.
Unlocked state: badge's unique color circle + white symbol/text + title label.

All rendered in SwiftUI (no image assets). `AchievementDefinition` gains `colorHex: String` and `textOverlay: String?` fields.

### Badge Table

| # | Key | Title (EN) | Title (CS) | Color | Symbol | Text | Trigger |
|---|-----|-----------|-----------|-------|--------|------|---------|
| 1 | first_sip | First Sip | První doušek | #4FC3F7 | drop.fill | — | Log first intake |
| 2 | goal_reached | Daily Champion | Denní šampion | #FFD700 | trophy.fill | — | Reach goal first time |
| 3 | streak_3 | Consistent | Vytrvalý | #FF7043 | flame.fill | — | 3-day streak |
| 4 | streak_7 | Week Warrior | Týdenní bojovník | #FF5722 | flame.fill | — | 7-day streak |
| 5 | streak_14 | Two Weeks Strong | Dva týdny v řadě | #F44336 | flame.fill | — | 14-day streak |
| 6 | streak_30 | Monthly Master | Měsíční mistr | #E91E63 | star.fill | — | 30-day streak |
| 7 | streak_60 | Unstoppable | Nezastavitelný | #D32F2F | bolt.circle.fill | — | 60-day streak |
| 8 | early_bird | Early Bird | Ranní ptáče | #FFA726 | sunrise.fill | — | Log before 8 AM |
| 9 | night_owl | Night Owl | Noční sova | #5C6BC0 | moon.fill | — | Log after 10 PM |
| 10 | midnight_sip | Midnight Sip | Půlnoční doušek | #283593 | moon.stars.fill | — | Log midnight–4 AM |
| 11 | big_gulp | Big Gulp | Velký doušek | #26C6DA | drop.triangle.fill | — | Log 500ml+ |
| 12 | hydration_1L | Liter Legend | Litrová legenda | #29B6F6 | — | 1L | 1000ml in one day |
| 13 | hydration_5L | Ocean Mode | Oceánový mód | #0277BD | water.waves | — | 5000ml in one day |
| 14 | overachiever | Overachiever | Přeborník | #AB47BC | bolt.fill | — | Reach 150% goal |
| 15 | double_goal | Double Down | Dvojnásobek | #7E57C2 | — | 2x | Reach 200% goal |
| 16 | centurion | Centurion | Centurion | #EC407A | — | 100 | 100 total entries |
| 17 | entries_10 | Getting Started | Začátečník | #78909C | — | 10 | 10 total entries |
| 18 | entries_500 | Half Thousand | Půl tisíce | #8D6E63 | — | 500 | 500 total entries |
| 19 | entries_1000 | Thousandaire | Tisícovka | #FF8F00 | — | 1K | 1000 total entries |
| 20 | early_streak_3 | Morning Ritual | Ranní rituál | #FFB74D | sun.max.fill | — | Log before 8 AM 3 days in row |
| 21 | weekend_warrior | Weekend Warrior | Víkendový bojovník | #66BB6A | calendar | — | Meet goal Sat + Sun |
| 22 | perfect_week | Perfect Week | Perfektní týden | #43A047 | checkmark.seal.fill | — | Meet goal all 7 days |
| 23 | challenge_5 | Challenger | Vyzyvatel | #00897B | flag.fill | — | Complete 5 daily challenges |
| 24 | challenge_20 | Challenge Master | Mistr výzev | #00695C | flag.checkered | — | Complete 20 daily challenges |
| 25 | xp_1000 | XP Hunter | Lovec XP | #FFC107 | sparkles | — | Earn 1000 total XP |
| 26 | early_tester | Early Tester | Raný tester | #9C27B0 | hammer.fill | — | Using app before v1.0 |

## 2. XP System

### Earning XP

| Action | XP |
|--------|----|
| Log water entry | +10 |
| Complete daily goal | +50 |
| Each streak day (daily bonus) | +20 |
| Unlock a badge | +100 |
| Complete daily challenge | +75 |

### Levels (10)

| Level | XP | Title (EN) | Title (CS) |
|-------|----|-----------|-----------|
| 1 | 0 | Beginner | Začátečník |
| 2 | 300 | Hydration Rookie | Nováček hydratace |
| 3 | 800 | Water Apprentice | Vodní učeň |
| 4 | 1,500 | Hydration Pro | Profík hydratace |
| 5 | 3,000 | Water Master | Vodní mistr |
| 6 | 5,000 | Hydration Legend | Legenda hydratace |
| 7 | 8,000 | Aqua Champion | Aqua šampion |
| 8 | 12,000 | Supreme Hydrator | Nejvyšší hydrátor |
| 9 | 18,000 | Fluidic Elite | Fluidic elita |
| 10 | 25,000 | Transcendent | Transcendentní |

### Storage

New fields on `UserSettings`: `totalXP: Int` (default 0), `currentLevel: Int` (default 1).

### UI

Small XP progress bar on Home view below the water progress text. Shows "Level X • Title" and XP bar to next level. Level-up triggers celebration overlay.

## 3. Streak Freeze

### Mechanics

- Earn 1 freeze token per 7-day streak milestone (days 7, 14, 21, 28...)
- Max 3 tokens banked
- Auto-uses when a day is missed and tokens available
- Streak continues through the frozen day

### Storage

New `UserSettings` fields: `streakFreezeCount: Int` (default 0), `frozenDatesData: Data?` (JSON-encoded [Date] for frozen dates).

### UI

- Streak card shows freeze count: snowflake icon + "X freezes"
- Calendar shows frozen days in light blue with snowflake
- Banner when freeze auto-used: "Streak Saved! 1 freeze used."

## 4. Daily Challenges

### Mechanics

- 1 challenge per day, deterministically selected by date hash
- Appears as card on Home view below quick-add buttons
- Awards +75 XP on completion, increments challengesCompleted counter

### Challenge Pool (15)

| # | Challenge (EN) | Challenge (CS) | Check |
|---|---------------|---------------|-------|
| 1 | Log before 9 AM | Zaznamenejte před 9:00 | Any intake before 9:00 |
| 2 | Drink 3000 ml today | Vypijte dnes 3000 ml | Total >= 3000 |
| 3 | Log 6 separate entries | Zaznamenejte 6 záznamů | Entries >= 6 |
| 4 | Reach goal by 3 PM | Splňte cíl do 15:00 | Goal met before 15:00 |
| 5 | Log at least 500 ml at once | Zaznamenejte 500 ml najednou | Single entry >= 500 |
| 6 | Drink every 2 hours | Pijte každé 2 hodiny | 4+ different 2h windows |
| 7 | Start with 250 ml | Začněte s 250 ml | First entry >= 250 |
| 8 | Reach 50% by noon | Dosáhněte 50 % do poledne | 50% before 12:00 |
| 9 | Log 8 times today | Zaznamenejte 8 záznamů dnes | Entries >= 8 |
| 10 | Beat yesterday's total | Překonejte včerejšek | Today > yesterday |
| 11 | Drink 2000 ml by 2 PM | Vypijte 2000 ml do 14:00 | 2000ml before 14:00 |
| 12 | Log after 8 PM | Zaznamenejte po 20:00 | Entry after 20:00 |
| 13 | Reach 120% of goal | Dosáhněte 120 % cíle | Total >= 120% goal |
| 14 | No gaps > 3 hours | Bez mezer > 3 hodiny | Entries every 3h in active hours |
| 15 | First entry within 30 min | První záznam do 30 min | Entry within 30min of activeHoursStart |

### Data Model

New `DailyChallenge` SwiftData model: `date`, `challengeIndex`, `completed`, `completedAt`.
New `UserSettings` field: `challengesCompleted: Int` (default 0).

### UI

Challenge card on Home view with challenge text, progress, and checkmark animation on completion.
